# E2E æµ‹è¯•è‡ªåŠ¨åŒ– Skill ä½¿ç”¨æŒ‡å—

## ğŸ‰ Skill å·²åˆ›å»ºæˆåŠŸï¼

å·²æˆåŠŸåˆ›å»º `e2e-test-automation` skillï¼Œä½ç½®ï¼š
- **Skill ç›®å½•**: `~/.codex/skills/e2e-test-automation/`
- **æ‰“åŒ…æ–‡ä»¶**: `~/.codex/skills/dist/e2e-test-automation.skill`

## ğŸ“¦ Skill åŒ…å«å†…å®¹

### æ ¸å¿ƒæ–‡ä»¶
- `SKILL.md` - Skill ä¸»æ–‡æ¡£ï¼ŒåŒ…å«å®Œæ•´çš„ä½¿ç”¨è¯´æ˜
- `README.md` - è¯¦ç»†çš„ä½¿ç”¨æŒ‡å—å’Œæ•…éšœæ’é™¤
- `requirements.txt` - Python ä¾èµ–åˆ—è¡¨

### Scripts (è„šæœ¬)
- `execute_tests.py` - ä¸»æµ‹è¯•æ‰§è¡Œå¼•æ“
- `browser_automation.py` - æµè§ˆå™¨è‡ªåŠ¨åŒ–å·¥å…·ç±»
- `screenshot_capture.py` - æˆªå›¾å’Œè¯æ®æ”¶é›†
- `report_generator.py` - æµ‹è¯•æŠ¥å‘Šç”Ÿæˆå™¨

### References (å‚è€ƒæ–‡æ¡£)
- `default_test_cases.md` - æµ‹è¯•ç”¨ä¾‹æ¨¡æ¿å’Œç¤ºä¾‹
- `browser_selectors.md` - æµè§ˆå™¨å…ƒç´ é€‰æ‹©å™¨æœ€ä½³å®è·µ
- `test_report_template.md` - æµ‹è¯•æŠ¥å‘Šæ¨¡æ¿

### Assets (èµ„æºæ–‡ä»¶)
- `test_report_styles.css` - HTML æŠ¥å‘Šæ ·å¼

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
cd ~/.codex/skills/e2e-test-automation
pip install -r requirements.txt
playwright install chromium
```

### 2. å‡†å¤‡æµ‹è¯•ç”¨ä¾‹

æ‚¨çš„æµ‹è¯•ç”¨ä¾‹æ–‡ä»¶å·²ç»åœ¨é¡¹ç›®ä¸­ï¼š
`/path/to/test-hub/ui-testing/e2e-test.md`

### 3. è¿è¡Œæµ‹è¯•ï¼ˆä¸‰ç§æ–¹å¼ï¼‰

#### æ–¹å¼ 1: é€šè¿‡ Cursor Agentï¼ˆæ¨èï¼‰

åœ¨ Cursor ä¸­ç›´æ¥å¯¹è¯ï¼š

```
æ ¹æ® @ui-testing/e2e-test.md æ‰§è¡Œæ‰€æœ‰ E2E æµ‹è¯•å¹¶ç”ŸæˆæŠ¥å‘Š
```

Agent ä¼šè‡ªåŠ¨ï¼š
1. åŠ è½½ e2e-test-automation skill
2. è§£ææµ‹è¯•ç”¨ä¾‹
3. å¯åŠ¨æµè§ˆå™¨
4. æ‰§è¡Œæ‰€æœ‰ 28 ä¸ªæµ‹è¯•ç”¨ä¾‹
5. ç”Ÿæˆè¯¦ç»†æŠ¥å‘Š

#### æ–¹å¼ 2: ç›´æ¥è¿è¡Œè„šæœ¬

```bash
cd /path/to/test-hub

# æœ‰å¤´æ¨¡å¼ï¼ˆå¯ä»¥çœ‹åˆ°æµè§ˆå™¨ï¼‰
python ~/.codex/skills/e2e-test-automation/scripts/execute_tests.py \
  ui-testing/e2e-test.md

# æ— å¤´æ¨¡å¼ï¼ˆåå°è¿è¡Œï¼‰
python ~/.codex/skills/e2e-test-automation/scripts/execute_tests.py \
  ui-testing/e2e-test.md --headless
```

#### æ–¹å¼ 3: ä½¿ç”¨ Cursor MCP Browser

åœ¨ Cursor ä¸­ï¼š

```
ä½¿ç”¨ e2e-test-automation skillï¼Œé€šè¿‡ Cursor å†…ç½®æµè§ˆå™¨æ‰§è¡Œæµ‹è¯•
```

## ğŸ“Š æµ‹è¯•æŠ¥å‘Šç¤ºä¾‹

æµ‹è¯•å®Œæˆåä¼šç”Ÿæˆï¼š

```
test_results/
â”œâ”€â”€ screenshots/
â”‚   â”œâ”€â”€ 20260115_143022_failure_test_3.png
â”‚   â”œâ”€â”€ 20260115_143045_failure_test_8.png
â”‚   â””â”€â”€ ...
â”œâ”€â”€ report_20260115_143100.md
â”œâ”€â”€ report_20260115_143100.html
â””â”€â”€ report_20260115_143100.json
```

### æŠ¥å‘Šå†…å®¹åŒ…æ‹¬ï¼š

1. **æµ‹è¯•æ‘˜è¦**
   - æ€»æµ‹è¯•æ•°
   - é€šè¿‡/å¤±è´¥/è­¦å‘Šæ•°é‡
   - æ‰§è¡Œæ—¶é—´
   - é€šè¿‡ç‡

2. **é€šè¿‡çš„æµ‹è¯•**
   - æµ‹è¯•ç”¨ä¾‹åˆ—è¡¨
   - æ‰§è¡Œæ—¶é—´

3. **å¤±è´¥çš„æµ‹è¯•**
   - è¯¦ç»†çš„å¤±è´¥åŸå› 
   - é¢„æœŸ vs å®é™…ç»“æœ
   - å¤±è´¥æˆªå›¾
   - Bug ä¸¥é‡ç¨‹åº¦

4. **Bug æ±‡æ€»**
   - æŒ‰ä¸¥é‡ç¨‹åº¦åˆ†ç±»ï¼ˆCritical/High/Medium/Lowï¼‰
   - å½±å“åˆ†æ
   - å¤ç°æ­¥éª¤

5. **æ€§èƒ½æŒ‡æ ‡**
   - é¡µé¢åŠ è½½æ—¶é—´
   - API å“åº”æ—¶é—´
   - è¶…æ—¶æ£€æµ‹

6. **UX åé¦ˆ**
   - ç”¨æˆ·ä½“éªŒé—®é¢˜
   - å¯ç”¨æ€§å»ºè®®

7. **æ”¹è¿›å»ºè®®**
   - ç«‹å³ä¿®å¤çš„é—®é¢˜
   - çŸ­æœŸæ”¹è¿›å»ºè®®
   - é•¿æœŸä¼˜åŒ–æ–¹å‘

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: æ‰§è¡Œæ‰€æœ‰æµ‹è¯•

```
@e2e-test.md ä½¿ç”¨ e2e-test-automation skill æ‰§è¡Œæ‰€æœ‰æµ‹è¯•ç”¨ä¾‹
```

### ç¤ºä¾‹ 2: åªæ‰§è¡Œç‰¹å®šç±»åˆ«

```
æ‰§è¡Œ e2e-test.md ä¸­æ‰€æœ‰ Chat ç›¸å…³çš„æµ‹è¯•ç”¨ä¾‹
```

### ç¤ºä¾‹ 3: P0 ä¼˜å…ˆçº§æµ‹è¯•

```
æ‰§è¡Œ @case-p0/p0.md ä¸­çš„ P0 æµ‹è¯•ç”¨ä¾‹
```

### ç¤ºä¾‹ 4: ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š

```
åˆ†æä¸Šæ¬¡æµ‹è¯•ç»“æœå¹¶ç”Ÿæˆè¯¦ç»†æŠ¥å‘Š
```

## ğŸ¯ æµ‹è¯•ç”¨ä¾‹è¦†ç›–

å½“å‰ `e2e-test.md` åŒ…å« 28 ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œè¦†ç›–ï¼š

1. **Chat åŠŸèƒ½** (ç”¨ä¾‹ 1-8)
   - é¦–æ¬¡æŸ¥è¯¢
   - ä¸ç¬¦åˆæ¡ä»¶å¤„ç†
   - è¦æ±‚è¿‡é«˜å¤„ç†
   - æœç´¢æ¡ä»¶å˜æ›´
   - Filter/Enrich ç®¡ç†

2. **List åŠŸèƒ½** (ç”¨ä¾‹ 9-14)
   - Find Matches
   - åˆ†é¡µ/æ»šåŠ¨
   - é“¾æ¥è·³è½¬
   - æ•°æ®å¯¼å‡º

3. **Profile Detail** (ç”¨ä¾‹ 15-21)
   - è¯¦æƒ…é¡µè·³è½¬
   - Insight ä¸€è‡´æ€§
   - Experience/Education éªŒè¯

4. **Email Copy Writing** (ç”¨ä¾‹ 22-24)
   - å…¬å¸ä¿¡æ¯è§£æ
   - é‚®ä»¶ç”Ÿæˆ
   - é«˜çº§è®¾ç½®

5. **Signal åŠŸèƒ½** (ç”¨ä¾‹ 25)
   - Signal åˆ›å»ºå’Œé…ç½®

6. **åˆ†äº«å’ŒæŠ¥å‘Š** (ç”¨ä¾‹ 26-28)
   - åˆ†äº«é“¾æ¥
   - æŠ¥å‘Šç”Ÿæˆ
   - åé¦ˆæäº¤

## ğŸ”§ è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹è¶…æ—¶æ—¶é—´

ç¼–è¾‘ `execute_tests.py`ï¼š

```python
config.timeout = 120000  # 120ç§’
```

### å¯ç”¨è§†é¢‘å½•åˆ¶

åœ¨æµ‹è¯•é…ç½®ä¸­æ·»åŠ ï¼š

```python
config.record_video = True
```

### è‡ªå®šä¹‰æµè§ˆå™¨é€‰é¡¹

```python
config.browser_options = {
    'headless': False,
    'slow_mo': 100,  # æ…¢åŠ¨ä½œï¼Œä¾¿äºè§‚å¯Ÿ
    'viewport': {'width': 1920, 'height': 1080}
}
```

## ğŸ“ æ·»åŠ æ–°çš„æµ‹è¯•ç”¨ä¾‹

åœ¨ `e2e-test.md` ä¸­æ·»åŠ ï¼š

```markdown
29. æ–°åŠŸèƒ½æµ‹è¯•
- æ“ä½œæ­¥éª¤
  - å¯¼èˆªåˆ°æ–°åŠŸèƒ½é¡µé¢
  - æ‰§è¡Œç‰¹å®šæ“ä½œ
  - éªŒè¯ç»“æœ
- é¢„æœŸåé¦ˆ
  - åŠŸèƒ½æ­£å¸¸å·¥ä½œ
  - æ— é”™è¯¯æç¤º
  - å“åº”æ—¶é—´ < 5s
- å¸¸è§é—®é¢˜
  - åŠ è½½æ…¢
  - åŠŸèƒ½ä¸å¯ç”¨
```

## ğŸ› æ•…éšœæ’é™¤

### é—®é¢˜ï¼šPlaywright æœªå®‰è£…

```bash
pip install playwright
playwright install chromium
```

### é—®é¢˜ï¼šMCP Browser ä¸å¯ç”¨

Skill ä¼šè‡ªåŠ¨å›é€€åˆ° Playwrightï¼Œç¡®ä¿ Playwright å·²å®‰è£…ã€‚

### é—®é¢˜ï¼šæµ‹è¯•ç”¨ä¾‹è§£æå¤±è´¥

æ£€æŸ¥æµ‹è¯•ç”¨ä¾‹æ ¼å¼æ˜¯å¦ç¬¦åˆè§„èŒƒï¼š
- ä½¿ç”¨ä¸­æ–‡æ ‡é¢˜ï¼ˆæ“ä½œæ­¥éª¤ã€é¢„æœŸåé¦ˆã€å¸¸è§é—®é¢˜ï¼‰
- ä½¿ç”¨ `-` ä½œä¸ºåˆ—è¡¨é¡¹æ ‡è®°
- æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ä»¥æ•°å­—å¼€å¤´

### é—®é¢˜ï¼šå…ƒç´ å®šä½å¤±è´¥

å‚è€ƒ `references/browser_selectors.md` ä¸­çš„æœ€ä½³å®è·µã€‚

## ğŸ“– æ›´å¤šä¿¡æ¯

- **å®Œæ•´æ–‡æ¡£**: `~/.codex/skills/e2e-test-automation/README.md`
- **Skill è¯´æ˜**: `~/.codex/skills/e2e-test-automation/SKILL.md`
- **ç¤ºä¾‹æµ‹è¯•ç”¨ä¾‹**: `~/.codex/skills/e2e-test-automation/references/default_test_cases.md`

## ğŸ“ ä¸‹ä¸€æ­¥

1. **å®‰è£…ä¾èµ–**
   ```bash
   pip install -r ~/.codex/skills/e2e-test-automation/requirements.txt
   playwright install chromium
   ```

2. **è¯•è¿è¡Œ**
   ```
   åœ¨ Cursor ä¸­å¯¹è¯ï¼šæ ¹æ® @e2e-test.md æ‰§è¡Œå‰ 3 ä¸ªæµ‹è¯•ç”¨ä¾‹
   ```

3. **æŸ¥çœ‹æŠ¥å‘Š**
   æ£€æŸ¥ç”Ÿæˆçš„æµ‹è¯•æŠ¥å‘Šï¼Œäº†è§£æµ‹è¯•ç»“æœæ ¼å¼

4. **å®šåˆ¶åŒ–**
   æ ¹æ®å®é™…éœ€æ±‚ä¿®æ”¹æµ‹è¯•è„šæœ¬å’Œé…ç½®

## ğŸ™Œ å®Œæˆï¼

E2E æµ‹è¯•è‡ªåŠ¨åŒ– Skill å·²ç»å‡†å¤‡å°±ç»ªï¼ç°åœ¨æ‚¨å¯ä»¥ï¼š

âœ… è‡ªåŠ¨æ‰§è¡Œ Web åº”ç”¨æµ‹è¯•  
âœ… ç”Ÿæˆè¯¦ç»†çš„æµ‹è¯•æŠ¥å‘Š  
âœ… è‡ªåŠ¨æˆªå›¾å’Œè¯æ®æ”¶é›†  
âœ… è¯†åˆ« Bug å’Œ UX é—®é¢˜  
âœ… éªŒè¯æ€§èƒ½æŒ‡æ ‡  

å¼€å§‹ä½¿ç”¨ï¼šåœ¨ Cursor ä¸­ç›´æ¥å¯¹è¯ **"æ ¹æ® @e2e-test.md æ‰§è¡Œæ‰€æœ‰æµ‹è¯•"**
